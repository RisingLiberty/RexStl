<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Other CPP Features - REX-STL Documentation</title>
        <!-- Custom HTML head -->
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="../favicon.svg">
        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">
        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../fonts/fonts.css">
        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../highlight.css">
        <link rel="stylesheet" href="../tomorrow-night.css">
        <link rel="stylesheet" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="../documentation/introduction.html"><strong aria-hidden="true">1.</strong> Introduction</a></li><li class="spacer"></li><li class="chapter-item expanded "><div><strong aria-hidden="true">2.</strong> Documentation</div></li><li><ol class="section"><li class="chapter-item expanded "><a href="../documentation/building_rsl.html"><strong aria-hidden="true">2.1.</strong> Building RSL</a></li><li class="chapter-item expanded "><a href="../documentation/comment_tags.html"><strong aria-hidden="true">2.2.</strong> Comment Tags</a></li><li class="chapter-item expanded "><a href="../documentation/glossary.html"><strong aria-hidden="true">2.3.</strong> Glossary</a></li><li class="chapter-item expanded "><a href="../documentation/memory.html"><strong aria-hidden="true">2.4.</strong> Memory</a></li><li class="chapter-item expanded "><a href="../documentation/rsl_vs_std_notes.html"><strong aria-hidden="true">2.5.</strong> Rsl vs Stl</a></li><li class="chapter-item expanded "><a href="../documentation/coding_practices.html"><strong aria-hidden="true">2.6.</strong> Coding Practices</a></li></ol></li><li class="chapter-item expanded "><a href="../guidelines/introduction.html"><strong aria-hidden="true">3.</strong> Coding Guidelines</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../guidelines/files.html"><strong aria-hidden="true">3.1.</strong> Files</a></li><li class="chapter-item expanded "><a href="../guidelines/scoping.html"><strong aria-hidden="true">3.2.</strong> Scoping</a></li><li class="chapter-item expanded "><a href="../guidelines/classes.html"><strong aria-hidden="true">3.3.</strong> Classes</a></li><li class="chapter-item expanded "><a href="../guidelines/functions.html"><strong aria-hidden="true">3.4.</strong> Functions</a></li><li class="chapter-item expanded "><a href="../guidelines/selections.html"><strong aria-hidden="true">3.5.</strong> Selections</a></li><li class="chapter-item expanded "><a href="../guidelines/iterations.html"><strong aria-hidden="true">3.6.</strong> Iterations</a></li><li class="chapter-item expanded "><a href="../guidelines/enumerations.html"><strong aria-hidden="true">3.7.</strong> Enumerations</a></li><li class="chapter-item expanded "><a href="../guidelines/ownership.html"><strong aria-hidden="true">3.8.</strong> Ownership</a></li><li class="chapter-item expanded "><a href="../guidelines/templates.html"><strong aria-hidden="true">3.9.</strong> Templates</a></li><li class="chapter-item expanded "><a href="../guidelines/auto.html"><strong aria-hidden="true">3.10.</strong> Auto</a></li><li class="chapter-item expanded "><a href="../guidelines/lambdas.html"><strong aria-hidden="true">3.11.</strong> Lambdas</a></li><li class="chapter-item expanded "><a href="../guidelines/other_cpp_features.html" class="active"><strong aria-hidden="true">3.12.</strong> Other CPP Features</a></li><li class="chapter-item expanded "><a href="../guidelines/naming.html"><strong aria-hidden="true">3.13.</strong> Naming</a></li><li class="chapter-item expanded "><a href="../guidelines/debug_vs_retail.html"><strong aria-hidden="true">3.14.</strong> Debug VS. Retail</a></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">REX-STL Documentation</h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="other-c-features"><a class="header" href="#other-c-features">Other C++ Features</a></h1>
<h2 id="exceptions"><a class="header" href="#exceptions">Exceptions</a></h2>
<p>Exceptions are disabled over the entire code base. </p>
<h2 id="run-time-type-information-rtti"><a class="header" href="#run-time-type-information-rtti">Run-Time Type Information (RTTI)</a></h2>
<p>RTTI is disabled over the entire code base.</p>
<h2 id="casting"><a class="header" href="#casting">Casting</a></h2>
<p>Prefer to use C++ cast over C-casts. Although they are more verbose, it makes them easier to track and the expected behavior is clearer. </p>
<p>The REX engine also has numeric casts and a safe version of it. numeric cast is just an alias for static cast, the safe version performs checking if there's any loss in value after the cast. In retail builds, the safe overload is replaced by regular static casts for performance reasons.</p>
<pre><code class="language-cpp">void func()
{
    uint32 uint_x = 10;
    int32 int_x = rex::safe_numeric_cast&lt;int32&gt;(uint_x);
}
</code></pre>
<h2 id="use-of-const"><a class="header" href="#use-of-const">Use of const</a></h2>
<p>prefer to use for all local variables (where possible), making it clear variables won't change.</p>
<p>Don’t cast away const through class getters. </p>
<p>This means if you have a const getter, return a const pointer, const reference or return by value.
Arguments captured by value don’t require const.</p>
<pre><code class="language-cpp">class Foo
{
public:
    //int* my_int() const // BAD, CAST AWAY CONST
    //{
    //    return m_my_int;
    //}

    const int* my_int() const // GOOD
    {
        return m_my_int;
    }

private:
    int* m_my_int;
}
</code></pre>
<p>if you do need to cast away const (eg. when interacting with a C API), wrap the const cast in its own API function.</p>
<pre><code class="language-cpp">template &lt;typename T&gt;
T* dx_const_cast(const T* dx_object)
{
    return const_cast&lt;T*&gt;(dx_object);
}
</code></pre>
<p>We use west const const in the code base, this means const comes on the left hand side of the type.</p>
<h2 id="use-of-constexpr"><a class="header" href="#use-of-constexpr">Use of constexpr</a></h2>
<p>Use constexpr wherever possible, but don’t use constexpr to force inlining.
mark file scope constexpr variables inline to reduce binary size of the generated file by the compiler
mark block scope constexpr variables static. </p>
<h2 id="integer-types"><a class="header" href="#integer-types">Integer Types</a></h2>
<p>Use signed integer for <strong>ALL</strong> variables that require arithmetic operations. Only use unsigned integer values for masks, bit patterns. Don’t use unsigned integers to represent a number. Don’t use unsigned integers to determine a number will never be negative, use assertions for this.</p>
<p>When writing large constants, use the ‘ to separate each group of 3 digits.</p>
<pre><code class="language-cpp">constexpr int my_big_int = 10'000;
</code></pre>
<h2 id="floating-points"><a class="header" href="#floating-points">Floating points</a></h2>
<p>Always write a radix point, with digits on both sides. Readability is improved if all floating-point literals take this familiar form.</p>
<pre><code class="language-cpp">constexpr float my_float = 1.0f;
</code></pre>
<h2 id="preprocessor-macros"><a class="header" href="#preprocessor-macros">Preprocessor Macros</a></h2>
<p>Avoid defining macros, especially in headers. Prefer functions, enum classes, const or constexpr variables. Macros have global scope, which make them a very good candidate of causing bugs.
Because we use unity builds, undef macros defined in a cpp file at the bottom of that cpp file, so they don't leak to other files</p>
<h2 id="0-nullptr-and-null"><a class="header" href="#0-nullptr-and-null">0, nullptr and NULL</a></h2>
<p>Use nullptr for pointers that are null and ‘\0’ for chars.
When using WIN32 API functions, it’s allowed to pass in NULL.</p>
<h2 id="sizeof"><a class="header" href="#sizeof">Sizeof</a></h2>
<p>Use sizeof(var_name) over sizeof(var_type) where possible.
This makes sure the sizeof is updated appropriately if someone changes the variable type.</p>
<h2 id="iterators"><a class="header" href="#iterators">Iterators</a></h2>
<p>When passing in iterators to algorithms, be very clear which one you use. Iterators may be captured with auto, which in this case would keep their constness as it’s part of the type.
That’s why the following:</p>
<pre><code class="language-cpp">auto it = rsl::find_if(my_vec.begin(), my_vec.end(),
[](int x)
{
    return x == 0;
});
</code></pre>
<p>is different from</p>
<pre><code class="language-cpp">auto it = rsl::find_if(my_vec.cbegin(), my_vec.cend(),
[](int x)
{
    return x == 0;
});
</code></pre>
<p>The first iterator is non-const, so it’s allowed to change the underlying value, with the second iterator, this is not the case.</p>
<h2 id="initializer-list"><a class="header" href="#initializer-list">Initializer list</a></h2>
<p>The initializer lists in a constructor starts on a new line with each separation token at the front.</p>
<pre><code class="language-cpp">Foo::Foo(int first_param, int second_param)
    : m_first_member(first_param)
    , m_second_member(second_param)
{}
</code></pre>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../guidelines/lambdas.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>
                            <a rel="next" href="../guidelines/naming.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>
                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../guidelines/lambdas.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>
                    <a rel="next" href="../guidelines/naming.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>

        <!-- Livereload script (if served using the cli tool) -->
        <script type="text/javascript">
            var socket = new WebSocket("ws://localhost:3000/__livereload");
            socket.onmessage = function (event) {
                if (event.data === "reload") {
                    socket.close();
                    location.reload();
                }
            };

            window.onbeforeunload = function() {
                socket.close();
            }
        </script>
        <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        <script src="../elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../searcher.js" type="text/javascript" charset="utf-8"></script>
        <script src="../clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="../book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
    </body>
</html>
