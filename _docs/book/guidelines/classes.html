<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Classes - REX-STL Documentation</title>
        <!-- Custom HTML head -->
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="../favicon.svg">
        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">
        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../fonts/fonts.css">
        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../highlight.css">
        <link rel="stylesheet" href="../tomorrow-night.css">
        <link rel="stylesheet" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="../documentation/introduction.html"><strong aria-hidden="true">1.</strong> Introduction</a></li><li class="spacer"></li><li class="chapter-item expanded "><div><strong aria-hidden="true">2.</strong> Documentation</div></li><li><ol class="section"><li class="chapter-item expanded "><a href="../documentation/building_rsl.html"><strong aria-hidden="true">2.1.</strong> Building RSL</a></li><li class="chapter-item expanded "><a href="../documentation/comment_tags.html"><strong aria-hidden="true">2.2.</strong> Comment Tags</a></li><li class="chapter-item expanded "><a href="../documentation/glossary.html"><strong aria-hidden="true">2.3.</strong> Glossary</a></li><li class="chapter-item expanded "><a href="../documentation/memory.html"><strong aria-hidden="true">2.4.</strong> Memory</a></li><li class="chapter-item expanded "><a href="../documentation/rsl_vs_std_notes.html"><strong aria-hidden="true">2.5.</strong> Rsl vs Stl</a></li><li class="chapter-item expanded "><a href="../documentation/coding_practices.html"><strong aria-hidden="true">2.6.</strong> Coding Practices</a></li></ol></li><li class="chapter-item expanded "><a href="../guidelines/introduction.html"><strong aria-hidden="true">3.</strong> Coding Guidelines</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../guidelines/files.html"><strong aria-hidden="true">3.1.</strong> Files</a></li><li class="chapter-item expanded "><a href="../guidelines/scoping.html"><strong aria-hidden="true">3.2.</strong> Scoping</a></li><li class="chapter-item expanded "><a href="../guidelines/classes.html" class="active"><strong aria-hidden="true">3.3.</strong> Classes</a></li><li class="chapter-item expanded "><a href="../guidelines/functions.html"><strong aria-hidden="true">3.4.</strong> Functions</a></li><li class="chapter-item expanded "><a href="../guidelines/selections.html"><strong aria-hidden="true">3.5.</strong> Selections</a></li><li class="chapter-item expanded "><a href="../guidelines/iterations.html"><strong aria-hidden="true">3.6.</strong> Iterations</a></li><li class="chapter-item expanded "><a href="../guidelines/enumerations.html"><strong aria-hidden="true">3.7.</strong> Enumerations</a></li><li class="chapter-item expanded "><a href="../guidelines/ownership.html"><strong aria-hidden="true">3.8.</strong> Ownership</a></li><li class="chapter-item expanded "><a href="../guidelines/templates.html"><strong aria-hidden="true">3.9.</strong> Templates</a></li><li class="chapter-item expanded "><a href="../guidelines/auto.html"><strong aria-hidden="true">3.10.</strong> Auto</a></li><li class="chapter-item expanded "><a href="../guidelines/lambdas.html"><strong aria-hidden="true">3.11.</strong> Lambdas</a></li><li class="chapter-item expanded "><a href="../guidelines/other_cpp_features.html"><strong aria-hidden="true">3.12.</strong> Other CPP Features</a></li><li class="chapter-item expanded "><a href="../guidelines/naming.html"><strong aria-hidden="true">3.13.</strong> Naming</a></li><li class="chapter-item expanded "><a href="../guidelines/debug_vs_retail.html"><strong aria-hidden="true">3.14.</strong> Debug VS. Retail</a></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">REX-STL Documentation</h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="classes"><a class="header" href="#classes">Classes</a></h1>
<p>Classes are fundamental in a language as C++, we use them a lot and they’re a good language feature to keep code structured and organized. </p>
<p>Avoid arbitrary initialization on the body of a constructor if you can’t signal an error.</p>
<pre><code class="language-cpp">    Foo::Foo()
    {
        initialize_something_that_can_fail(); // WRONG, NO WAY OF NOTIFYING FAILURE
    }

    int Foo::initialize() // OK, RETURN ERROR CODE ON FAILURE
    {
        int err = initialize_something_that_can_fail();
        
        if (!err) 
        {
            return err;
        }
    }
</code></pre>
<p>For readability purposes, the initialize function returns an int. In a real-world example, this should return an enum value instead, more info is discussed bellow.</p>
<p>Avoid having objects who’s initialization can fail, as it’s easy to forget a call to or capturing the return value of the object’s “initialize” function.</p>
<p>If you really need to have an initialize function, try to use the following design</p>
<pre><code class="language-cpp">    class Foo
    {
    public:
        static rsl::optional&lt;Foo&gt; create()
        {
            Foo foo;
            if (!foo.initialize())
            {
                REX_ASSERT(&quot;Failed to create Foo&quot;);
                return rsl::nullopt; // No object on invalid initialization
            }
            
            return foo;
        }
        
    private:
        Foo()
        {}
    }
</code></pre>
<p>An alternate way to guarantee an object initializes correctly is to use asserts directly in the constructor.</p>
<pre><code class="language-cpp">    class Foo
    {
    public:
        Foo()
        {
            // do some initialization
            const bool some_bool_value = some_check();
            REX_ASSERT_X(some_bool_value, &quot;Failed to initialize Foo&quot;);
        }
    }
</code></pre>
<h2 id="implicit-conversions"><a class="header" href="#implicit-conversions">Implicit conversions</a></h2>
<p>Avoid the possibility of implicit conversions. When a constructor of an object only holds a single argument, mark that constructor explicit.</p>
<pre><code class="language-cpp">    class Foo
    {
    public:
        Foo(int x) // WRONG, THIS ALLOWS IMPLICIT CONVERSIONS
        {}
    };

    class Bar
    {
    public:
        explicit Bar(int x) // OK, NO IMPLICIT CONVERSIONS
        {}
    };
</code></pre>
<h2 id="copy-and-moveable-types"><a class="header" href="#copy-and-moveable-types">Copy and Moveable Types</a></h2>
<p>We generally follow the rule of 0. This means, don’t define a constructor or destructor when they’re not needed.</p>
<p>When you do need a constructor or destructor, we follow the rule of 5. A copy constructor and move constructor is defaulted, unless you want custom behavior,
the same applies for assignment operators.</p>
<p>This is because it’s easy to forget to add a newly added member to the class’ copy or move constructor, let the compiler do its job and it’ll generate that for you. </p>
<p>Note: be careful for shallow copies.
Note: do we need rule of 5 when defining a non-copy and non-move ctor?</p>
<h2 id="structs-vs-classes"><a class="header" href="#structs-vs-classes">Structs vs Classes</a></h2>
<p>Use a struct when you only want to carry data, everything else is a class. </p>
<p>All fields in a struct must be public, no relationship between fields is allowed, constructor, destructor and helper methods may be present but aren’t required. </p>
<p>If in doubt, use a class.</p>
<h2 id="structs-vs-pairs-and-tuples"><a class="header" href="#structs-vs-pairs-and-tuples">Structs vs Pairs and Tuples</a></h2>
<p>Prefer to use a named struct instead of a pair or a tuple to provide meaningful names to your fields. </p>
<p>With C++17 and its structured binding, pairs and tuples have become more readable, however, you can use structured binding with custom defined structs as well which gives you the benefit of both.</p>
<h2 id="inheritance"><a class="header" href="#inheritance">Inheritance</a></h2>
<p>Compositions is often more appropriate than inhertiance. Avoid multiple inheritance as much as possible.</p>
<p>Don’t use protected data members, data members should always be private. Data methods may be protected.</p>
<p>Explictely annotate virtual functions with the <code>virtual</code> keyword, overriden functions only with the <code>override</code> keyword and final functions only with the <code>final</code> keyword. </p>
<p>Prefer marking functions <code>final</code> instead of classes as this helps maintainability and readability as it’s easier to read over a class marked final than it is over a function.</p>
<p>Try to mark your function <code>final</code> as much as possible as this improves performance when the static type of your object is the class with the function marked final and it'll warn you when you're overwriting behavior which may not be your intend.</p>
<h2 id="operator-overloading"><a class="header" href="#operator-overloading">Operator overloading</a></h2>
<p>Only overload the operators if their meaning is obvious and unsurprising.
Never override the “address of” operator nor the comma operator.</p>
<h2 id="declaration-order"><a class="header" href="#declaration-order">Declaration Order</a></h2>
<p>Group definitions together, public comes first, then protected, then private.
Split methods and data members with another access specifier.
Debug member functions and fields come last in the class (not always possible for some fields), this is so they can easily be compiled out when grouped together.</p>
<p><strong>NEVER</strong> delcare members protected or public of a class, create a &quot;setter&quot; or &quot;getter&quot; function when access is required.</p>
<p>Don't expose virtual member functions in base classes. What this means is, when a member function is protected in the base class, keep it private in the derived class.
C++ allows you to make member function public, even when they're protected in the base class, this however is not allowed in Rex.</p>
<p>What is allowed is the other way around, when a function is public in the base class, you are allowed to limit its access (by marking it protected or private) in the derived class.</p>
<p>When defining constructors, destructors and assignment operators, they’re always declared first.
The order is goes as followed:</p>
<pre><code>  Default constructor (if any)          
  Other constructors   

  Copy constructor (if any)            
  Move constructor (if any)         

  Destructor                       

  Copy assignment operator (if any)    
  Move assignment operator (if any)   
</code></pre>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../guidelines/scoping.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>
                            <a rel="next" href="../guidelines/functions.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>
                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../guidelines/scoping.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>
                    <a rel="next" href="../guidelines/functions.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>

        <!-- Livereload script (if served using the cli tool) -->
        <script type="text/javascript">
            var socket = new WebSocket("ws://localhost:3000/__livereload");
            socket.onmessage = function (event) {
                if (event.data === "reload") {
                    socket.close();
                    location.reload();
                }
            };

            window.onbeforeunload = function() {
                socket.close();
            }
        </script>
        <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        <script src="../elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../searcher.js" type="text/javascript" charset="utf-8"></script>
        <script src="../clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="../book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
    </body>
</html>
